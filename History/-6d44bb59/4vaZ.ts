import type { CSSProperties } from "react"

export const createStyles = (
  accent: string,
  maxWidth?: number | string | null
) => ({
  container: {
    fontFamily:
      "Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif",
    color: "inherit",
    width: "100%",
    maxWidth: maxWidth ?? undefined,
    margin: maxWidth ? "0 auto" : undefined,
    boxSizing: "border-box",
  } as CSSProperties,
  grid: {
    display: "grid",
    gridTemplateColumns: "1fr 1fr",
    gridTemplateRows: "minmax(160px, auto) minmax(200px, auto)",
    gap: 12,
  } as CSSProperties,
  panel: {
    border: `1px solid rgba(0,0,0,0.08)`,
    borderRadius: 8,
    background: "rgba(0,0,0,0.02)",
    padding: 10,
    display: "flex",
    flexDirection: "column",
    minHeight: 0,
  } as CSSProperties,
  header: {
    fontWeight: 600,
    marginBottom: 8,
    fontSize: 14,
  } as CSSProperties,
  headerOuter: {
    fontWeight: 600,
    marginBottom: 6,
    fontSize: 14,
  } as CSSProperties,
  headerRow: {
    display: "flex",
    justifyContent: "space-between",
    alignItems: "center",
    marginTop: 4,
    marginBottom: 8,
    paddingLeft: 10,
    paddingRight: 10,
    minHeight: 36,
    boxSizing: "border-box",
  } as CSSProperties,
  headerSpacer: {
    width: 64,
    height: 28,
  } as CSSProperties,
  itemWrap: {
    display: "flex",
    flexDirection: "column",
    height: "100%",
    minHeight: 0,
  } as CSSProperties,
  card: {
    border: `1px solid rgba(0,0,0,0.1)`,
    borderRadius: 8,
    padding: 10,
    marginBottom: 8,
    background: "#fff",
    cursor: "pointer",
    transition: "box-shadow 120ms ease",
  } as CSSProperties,
  cardActive: {
    boxShadow: `0 0 0 2px ${accent} inset`,
  } as CSSProperties,
  compactCard: {
    border: "1px solid rgba(0,0,0,0.1)",
    borderRadius: 8,
    padding: 10,
    background: "#fff",
    display: "flex",
    justifyContent: "space-between",
    alignItems: "center",
    gap: 8,
    cursor: "pointer",
  } as CSSProperties,
  listScroll: {
    maxHeight: 100,
    minHeight: 100,
    overflowY: "auto",
    overflowX: "hidden",
    paddingRight: 4,
  } as CSSProperties,
  button: {
    background: accent,
    color: "#fff",
    border: "none",
    padding: "6px 10px",
    borderRadius: 999,
    cursor: "pointer",
    fontSize: 12,
    outline: "none",
    boxShadow: "none",
    userSelect: "none" as const,
  } as CSSProperties,
  toggleIconBtn: {
    background: accent,
    color: "#fff",
    border: `1px solid ${accent}`,
    borderRadius: 999,
    height: 28,
    width: 28,
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    cursor: "pointer",
    transition:
      "border-color 120ms ease, box-shadow 120ms ease, background-color 120ms ease",
    outline: "none",
    boxShadow: "none",
    userSelect: "none" as const,
  } as CSSProperties,
  searchRow: {
    display: "flex",
    gap: 8,
    flexWrap: "wrap",
    marginBottom: 8,
  } as CSSProperties,
  searchBox: {
    position: "relative",
    display: "inline-block",
    height: 32,
  } as CSSProperties,
  searchIcon: {
    position: "absolute" as const,
    left: 8,
    top: "50%",
    transform: "translateY(-50%)",
    opacity: 0.9,
    fontSize: 12,
    pointerEvents: "none" as const,
  },
  input: {
    padding: "6px 8px",
    borderRadius: 6,
    border: "1px solid rgba(0,0,0,0.2)",
    fontSize: 12,
  } as CSSProperties,
  filterButton: {
    background: "#fff",
    color: accent,
    border: `1px solid ${accent}`,
    padding: "6px 10px",
    borderRadius: 999,
    cursor: "pointer",
    fontSize: 12,
    display: "inline-flex",
    alignItems: "center",
    gap: 6,
    whiteSpace: "nowrap",
  } as CSSProperties,
  filterButtonActive: {
    background: accent,
    color: "#fff",
    border: `1px solid ${accent}`,
  } as CSSProperties,
  chip: {
    display: "inline-block",
    padding: "2px 8px",
    background: "#e8f1fd",
    color: accent,
    border: `1px solid ${accent}`,
    borderRadius: 999,
    fontSize: 12,
    marginRight: 6,
    marginBottom: 6,
  } as CSSProperties,
  chipRemove: {
    cursor: "pointer",
    opacity: 0.8,
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "right",
    width: 16,
    height: 16,
  } as CSSProperties,
  // Alert/Note styles
  alertInfo: {
    display: "block",
    padding: "8px 10px",
    borderRadius: 8,
    background: "#e8f1fd",
    color: accent,
    border: `1px solid ${accent}`,
    fontSize: 12,
    marginBottom: 8,
  } as CSSProperties,
  alertWarn: {
    display: "block",
    padding: "8px 10px",
    borderRadius: 8,
    background: "#fff8e1",
    color: "#f57c00",
    border: "1px solid #f57c00",
    fontSize: 12,
    marginBottom: 8,
  } as CSSProperties,
  alertError: {
    display: "block",
    padding: "8px 10px",
    borderRadius: 8,
    background: "#ffebee",
    color: "#c62828",
    border: "1px solid #c62828",
    fontSize: 12,
    marginBottom: 8,
  } as CSSProperties,
  // Alarm badges (pill) with constrained width
  noteBadgeInfo: {
    display: "inline-flex",
    alignItems: "center",
    gap: 8,
    padding: "2px 8px",
    borderRadius: 10,
    background: "#e8f1fd",
    color: accent,
    border: `1px solid ${accent}`,
    fontSize: 12,
    marginBottom: 6,
    whiteSpace: "nowrap" as const,
    alignSelf: "flex-start" as const,
  } as CSSProperties,
  noteBadgeWarn: {
    display: "inline-flex",
    alignItems: "center",
    gap: 8,
    padding: "2px 8px",
    borderRadius: 10,
    background: "#fff8e1",
    color: "#f57c00",
    border: "1px solid #f57c00",
    fontSize: 12,
    marginBottom: 6,
    whiteSpace: "nowrap" as const,
    alignSelf: "flex-start" as const,
  } as CSSProperties,
  noteBadgeError: {
    display: "inline-flex",
    alignItems: "center",
    gap: 8,
    padding: "2px 8px",
    borderRadius: 10,
    background: "#ffebee",
    color: "#c62828",
    border: "1px solid #c62828",
    fontSize: 12,
    marginBottom: 6,
    whiteSpace: "nowrap" as const,
    alignSelf: "flex-start" as const,
  } as CSSProperties,
  // Split button (Go + caret) helpers
  splitWrap: {
    position: "relative" as const,
    display: "inline-flex",
    alignItems: "stretch",
    zIndex: 5,
  },
  splitMain: {
    // left main button looks like filterButton (compact)
    background: accent,
    color: "#fff",
    border: `1px solid ${accent}`,
    padding: "4px 8px",
    borderTopLeftRadius: 10,
    borderBottomLeftRadius: 10,
    borderTopRightRadius: 0,
    borderBottomRightRadius: 0,
    cursor: "pointer",
    fontSize: 9,
    height: 26,
    display: "inline-flex",
    alignItems: "center",
    gap: 6,
    outline: "none",
    boxShadow: "none",
    userSelect: "none" as const,
  } as CSSProperties,
  splitCaretBtn: {
    background: accent,
    color: "#fff",
    borderTop: `1px solid ${accent}`,
    borderBottom: `1px solid ${accent}`,
    borderRight: `1px solid ${accent}`,
    borderLeft: "none",
    padding: "0 6px",
    borderTopRightRadius: 10,
    borderBottomRightRadius: 10,
    cursor: "pointer",
    fontSize: 14,
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    height: 26,
    minWidth: 20,
    outline: "none",
    boxShadow: "none",
    userSelect: "none" as const,
  } as CSSProperties,
  splitActive: {
    background: "#fff",
    color: accent,
  } as CSSProperties,
  menu: {
    position: "absolute" as const,
    top: "calc(110% - 1px)",
    left: 0,
    background: "#fff",
    color: "#111",
    border: `1px solid ${accent}`,
    borderBottomLeftRadius: 10,
    borderBottomRightRadius: 10,
    borderTopLeftRadius: 10,
    borderTopRightRadius: 10,
    boxShadow: "0 10px 24px rgba(255, 255, 255, 0.14)",
    padding: 6,
    width: "100%",
    zIndex: 70,
    transformOrigin: "top center",
    animation: "s-drop 160ms ease",
  } as CSSProperties,
  menuItem: {
    width: "100%",
    textAlign: "left" as const,
    background: "#fff",
    color: "#111",
    border: "1px solid rgba(255, 255, 255, 0.08)",
    padding: "8px 10px",
    borderRadius: 6,
    cursor: "pointer",
    fontSize: 12,
    whiteSpace: "nowrap",
  } as CSSProperties,
  modalOverlay: {
    position: "fixed" as const,
    inset: 0 as any,
    background: "rgba(0,0,0,0.35)",
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    zIndex: 90,
  } as CSSProperties,
  modal: {
    background: "#fff",
    borderRadius: 10,
    width: "min(1000px, 92vw)",
    maxHeight: "80vh",
    display: "flex",
    flexDirection: "column",
    boxShadow: "0 16px 36px rgba(0,0,0,0.25)",
    overflow: "hidden",
  } as CSSProperties,
  modalHeader: {
    display: "flex",
    alignItems: "center",
    justifyContent: "space-between",
    padding: "10px 12px",
    borderBottom: "1px solid rgba(0,0,0,0.1)",
    fontWeight: 600,
    fontSize: 14,
  } as CSSProperties,
  modalBody: {
    padding: 10,
    overflow: "auto",
  } as CSSProperties,
  popover: {
    position: "absolute" as const,
    top: "calc(100% + 6px)",
    right: 0,
    background: "#fff",
    border: "1px solid rgba(0,0,0,0.15)",
    borderRadius: 8,
    boxShadow: "0 8px 24px rgba(0,0,0,0.12)",
    padding: 10,
    width: 280,
    zIndex: 50,
    animation: "s-drop 160ms ease",
  },
  logRow: {
    padding: "6px 8px",
    borderRadius: 6,
    border: "1px solid rgba(0,0,0,0.08)",
    background: "#fff",
    cursor: "pointer",
    marginBottom: 6,
  } as CSSProperties,
  logRowActive: {
    boxShadow: `0 0 0 2px ${accent} inset`,
  } as CSSProperties,
  badge: {
    display: "inline-block",
    padding: "2px 8px",
    borderRadius: 999,
    fontSize: 11,
    marginRight: 8,
    fontWeight: 600,
  } as CSSProperties,
  tableHeader: {
    display: "grid",
    gap: 8,
    alignItems: "center",
    fontSize: 12,
    fontWeight: 600,
    color: "#555",
    padding: "0 4px 6px 4px",
  } as CSSProperties,
  th: {
    whiteSpace: "nowrap",
    overflow: "hidden",
    textOverflow: "ellipsis",
  } as CSSProperties,
  rowGrid: {
    display: "grid",
    gap: 8,
    alignItems: "center",
  } as CSSProperties,
  td: {
    whiteSpace: "nowrap",
    overflow: "hidden",
    textOverflow: "ellipsis",
    color: "inherit",
    fontSize: 12,
  } as CSSProperties,
  logsScroll: {
    minHeight: 0,
    overflowY: "auto",
    overflowX: "hidden",
    paddingRight: 4,
  } as CSSProperties,
  skeletonLine: {
    height: 12,
    background: "rgba(0,0,0,0.08)",
    borderRadius: 6,
    marginBottom: 8,
    animation: "s-pulse 1.2s ease-in-out infinite",
  } as CSSProperties,
  skeletonBlock: {
    height: 120,
    background: "rgba(0,0,0,0.06)",
    borderRadius: 8,
    animation: "s-pulse 1.2s ease-in-out infinite",
  } as CSSProperties,
  toast: {
    position: "fixed" as const,
    right: 12,
    bottom: 12,
    background: accent,
    color: "#fff",
    padding: "8px 10px",
    borderRadius: 6,
    boxShadow: "0 6px 16px rgba(0,0,0,0.2)",
    opacity: 0,
    transform: "translateY(6px)",
    transition: "opacity 120ms ease, transform 120ms ease",
    pointerEvents: "none" as const,
    fontSize: 12,
  },
  inlineToast: {
    position: "absolute" as const,
    top: "calc(100% + 8px)",
    left: "50%",
    transform: "translate(-50%, 4px)",
    background: accent,
    color: "#fff",
    padding: "6px 8px",
    borderRadius: 6,
    boxShadow: "0 6px 16px rgba(0,0,0,0.2)",
    fontSize: 12,
    pointerEvents: "none" as const,
    whiteSpace: "nowrap" as const,
    opacity: 0,
    transition: "opacity 160ms ease, transform 160ms ease",
    zIndex: 20,
  } as CSSProperties,
  inlineToastCaret: {
    position: "absolute" as const,
    top: -5,
    left: "50%",
    transform: "translateX(-50%)",
    width: 0,
    height: 0,
    borderLeft: "6px solid transparent",
    borderRight: "6px solid transparent",
    borderBottom: `6px solid ${accent}`,
  },
  notesWrap: {
    display: "flex",
    flexDirection: "column",
    gap: 6,
    marginBottom: 8,
  } as CSSProperties,
  noteBadgeBase: {
    display: "inline-flex",
    alignItems: "center",
    gap: 6,
    borderRadius: 999,
    padding: "6px 10px",
    fontSize: 12,
  } as CSSProperties,
})
export type ViewerStyles = ReturnType<typeof createStyles>
